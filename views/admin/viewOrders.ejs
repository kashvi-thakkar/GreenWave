<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
  
      body {
        font-family: "Merriweather", serif;
      }
  
      .table td:last-child {
        min-width: 200px;
      }
    </style>
  </head>
  
  <body>
    <header class="header-section light-card">
      <div class="container">
        <h1>All Orders</h1>
        <p class="lead">Manage and review all customer orders</p>
      </div>
    </header>
    <section class="orders-section light-card">
      <div class="container">
        <h1 class="mb-4">All Orders</h1>
  
        <div class="table-container">
          <table class="table">
            <thead>
              <tr>
                <th class="text-white">Order ID</th>
                <th class="text-white">User</th>
                <th class="text-white">Total</th>
                <th class="text-white">Status</th>
                <th class="text-white">Shipping Address</th>
                <th class="text-white">Actions</th>
              </tr>
            </thead>
            <tbody>
              <% orders.forEach(order => { %>
              <tr>
                <td><%= order._id %></td>
                <td><%= order.user.firstName %> <%= order.user.lastName %></td>
                <td>â‚¹<%= order.total.toFixed(2) %></td>
                <td><%= order.status %></td>
                <td><%= order.shippingAddress %></td>
                <td>
                  <form action="/admin/order/<%= order._id %>/update-status" method="POST" class="d-flex align-items-center">
                    <select name="status" class="form-select form-select-sm me-2">
                      <option value="Pending" <%= order.status === 'Pending' ? 'selected' : '' %>>Pending</option>
                      <option value="Processing" <%= order.status === 'Processing' ? 'selected' : '' %>>Processing</option>
                      <option value="Shipped" <%= order.status === 'Shipped' ? 'selected' : '' %>>Shipped</option>
                      <option value="Delivered" <%= order.status === 'Delivered' ? 'selected' : '' %>>Delivered</option>
                      <option value="Cancelled" <%= order.status === 'Cancelled' ? 'selected' : '' %>>Cancelled</option>
                    </select>
                    <button type="submit" class="btn btn-sm btn-success">Update</button>
                  </form>
                </td>
              </tr>
              <% }); %>
            </tbody>
          </table>
        </div>
  
        <a href="/admin/dashboard" class="btn btn-outline-success mt-4">Back to Dashboard</a>
      </div>
    </section>
  </body>